(component 
    ;; Component Imports
    (lower ((digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (abi canon)  (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt)))) (#miden::account #remove_asset)

    ;; Modules
    (module #rust_sdk_basic_wallet
        ;; Constants
        (const (id 0) 0x00100000)

        ;; Global Variables
        (global (export #__stack_pointer) (id 0) (type i32) (const 0))

        ;; Functions
        (func (export #receive_asset) (param i32)
            (block 0 (param v0 i32)
                (let (v1 i32) (const.i32 0))
                (let (v2 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v3 i32) (const.i32 16))
                (let (v4 i32) (sub.wrapping v2 v3))
                (let (v5 (ptr i32)) (global.symbol #__stack_pointer))
                (store v5 v4)
                (call #miden_tx_kernel_sys::add_asset v4 v0)
                (let (v6 i32) (const.i32 16))
                (let (v7 i32) (add.wrapping v4 v6))
                (let (v8 (ptr i32)) (global.symbol #__stack_pointer))
                (store v8 v7)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #send_asset)
              (param i32) (param felt) (param felt) (param i32)
            (block 0
                    (param v0 i32)
                    (param v1 felt)
                    (param v2 felt)
                    (param v3 i32)
                (let (v4 i32) (const.i32 0))
                (let (v5 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v6 i32) (const.i32 16))
                (let (v7 i32) (sub.wrapping v5 v6))
                (let (v8 (ptr i32)) (global.symbol #__stack_pointer))
                (store v8 v7)
                (call #miden_tx_kernel_sys::remove_asset v7 v0)
                (let (v9 felt) (call #miden_tx_kernel_sys::create_note v7 v1 v2 v3))
                (let (v10 i32) (const.i32 16))
                (let (v11 i32) (add.wrapping v7 v10))
                (let (v12 (ptr i32)) (global.symbol #__stack_pointer))
                (store v12 v11)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_tx_kernel_sys::add_asset)
              (param i32) (param i32)
            (block 0 (param v0 i32) (param v1 i32)
                (let (v2 i32) (const.i32 0))
                (let (v3 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v4 i32) (const.i32 16))
                (let (v5 i32) (sub.wrapping v3 v4))
                (let (v6 (ptr i32)) (global.symbol #__stack_pointer))
                (store v6 v5)
                (let (v7 u32) (cast v1))
                (let (v8 u32) (mod.unchecked v7 2))
                (assertz v8)
                (let (v9 (ptr felt)) (inttoptr v7))
                (let (v10 felt) (load v9))
                (let (v11 u32) (cast v1))
                (let (v12 u32) (add.checked v11 4))
                (let (v13 u32) (mod.unchecked v12 2))
                (assertz v13)
                (let (v14 (ptr felt)) (inttoptr v12))
                (let (v15 felt) (load v14))
                (let (v16 u32) (cast v1))
                (let (v17 u32) (add.checked v16 8))
                (let (v18 u32) (mod.unchecked v17 2))
                (assertz v18)
                (let (v19 (ptr felt)) (inttoptr v17))
                (let (v20 felt) (load v19))
                (let (v21 u32) (cast v1))
                (let (v22 u32) (add.checked v21 12))
                (let (v23 u32) (mod.unchecked v22 2))
                (assertz v23)
                (let (v24 (ptr felt)) (inttoptr v22))
                (let (v25 felt) (load v24))
                (let [(v26 felt) (v27 felt) (v28 felt) (v29 felt)] (call (#miden::account #add_asset) v10 v15 v20 v25))
                (let (v30 u32) (cast v5))
                (let (v31 (ptr felt)) (inttoptr v30))
                (store v31 v26)
                (let (v32 u32) (add.checked v30 8))
                (let (v33 (ptr felt)) (inttoptr v32))
                (store v33 v27)
                (let (v34 u32) (add.checked v30 16))
                (let (v35 (ptr felt)) (inttoptr v34))
                (store v35 v28)
                (let (v36 u32) (add.checked v30 24))
                (let (v37 (ptr felt)) (inttoptr v36))
                (store v37 v29)
                (let (v38 i32) (const.i32 8))
                (let (v39 i32) (add.wrapping v0 v38))
                (let (v40 i32) (const.i32 8))
                (let (v41 i32) (add.wrapping v5 v40))
                (let (v42 u32) (cast v41))
                (let (v43 u32) (mod.unchecked v42 2))
                (assertz v43)
                (let (v44 (ptr i64)) (inttoptr v42))
                (let (v45 i64) (load v44))
                (let (v46 u32) (cast v39))
                (let (v47 u32) (mod.unchecked v46 2))
                (assertz v47)
                (let (v48 (ptr i64)) (inttoptr v46))
                (store v48 v45)
                (let (v49 u32) (cast v5))
                (let (v50 u32) (mod.unchecked v49 2))
                (assertz v50)
                (let (v51 (ptr i64)) (inttoptr v49))
                (let (v52 i64) (load v51))
                (let (v53 u32) (cast v0))
                (let (v54 u32) (mod.unchecked v53 2))
                (assertz v54)
                (let (v55 (ptr i64)) (inttoptr v53))
                (store v55 v52)
                (let (v56 i32) (const.i32 16))
                (let (v57 i32) (add.wrapping v5 v56))
                (let (v58 (ptr i32)) (global.symbol #__stack_pointer))
                (store v58 v57)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_tx_kernel_sys::remove_asset)
              (param i32) (param i32)
            (block 0 (param v0 i32) (param v1 i32)
                (let (v2 i32) (const.i32 0))
                (let (v3 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v4 i32) (const.i32 16))
                (let (v5 i32) (sub.wrapping v3 v4))
                (let (v6 (ptr i32)) (global.symbol #__stack_pointer))
                (store v6 v5)
                (let (v7 u32) (cast v1))
                (let (v8 u32) (mod.unchecked v7 2))
                (assertz v8)
                (let (v9 (ptr felt)) (inttoptr v7))
                (let (v10 felt) (load v9))
                (let (v11 u32) (cast v1))
                (let (v12 u32) (add.checked v11 4))
                (let (v13 u32) (mod.unchecked v12 2))
                (assertz v13)
                (let (v14 (ptr felt)) (inttoptr v12))
                (let (v15 felt) (load v14))
                (let (v16 u32) (cast v1))
                (let (v17 u32) (add.checked v16 8))
                (let (v18 u32) (mod.unchecked v17 2))
                (assertz v18)
                (let (v19 (ptr felt)) (inttoptr v17))
                (let (v20 felt) (load v19))
                (let (v21 u32) (cast v1))
                (let (v22 u32) (add.checked v21 12))
                (let (v23 u32) (mod.unchecked v22 2))
                (assertz v23)
                (let (v24 (ptr felt)) (inttoptr v22))
                (let (v25 felt) (load v24))
                (let [(v26 felt) (v27 felt) (v28 felt) (v29 felt)] (call (#miden::account #remove_asset) v10 v15 v20 v25))
                (let (v30 u32) (cast v5))
                (let (v31 (ptr felt)) (inttoptr v30))
                (store v31 v26)
                (let (v32 u32) (add.checked v30 8))
                (let (v33 (ptr felt)) (inttoptr v32))
                (store v33 v27)
                (let (v34 u32) (add.checked v30 16))
                (let (v35 (ptr felt)) (inttoptr v34))
                (store v35 v28)
                (let (v36 u32) (add.checked v30 24))
                (let (v37 (ptr felt)) (inttoptr v36))
                (store v37 v29)
                (let (v38 i32) (const.i32 8))
                (let (v39 i32) (add.wrapping v0 v38))
                (let (v40 i32) (const.i32 8))
                (let (v41 i32) (add.wrapping v5 v40))
                (let (v42 u32) (cast v41))
                (let (v43 u32) (mod.unchecked v42 2))
                (assertz v43)
                (let (v44 (ptr i64)) (inttoptr v42))
                (let (v45 i64) (load v44))
                (let (v46 u32) (cast v39))
                (let (v47 u32) (mod.unchecked v46 2))
                (assertz v47)
                (let (v48 (ptr i64)) (inttoptr v46))
                (store v48 v45)
                (let (v49 u32) (cast v5))
                (let (v50 u32) (mod.unchecked v49 2))
                (assertz v50)
                (let (v51 (ptr i64)) (inttoptr v49))
                (let (v52 i64) (load v51))
                (let (v53 u32) (cast v0))
                (let (v54 u32) (mod.unchecked v53 2))
                (assertz v54)
                (let (v55 (ptr i64)) (inttoptr v53))
                (store v55 v52)
                (let (v56 i32) (const.i32 16))
                (let (v57 i32) (add.wrapping v5 v56))
                (let (v58 (ptr i32)) (global.symbol #__stack_pointer))
                (store v58 v57)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_tx_kernel_sys::create_note)
              (param i32) (param felt) (param felt) (param i32) (result felt)
            (block 0
                    (param v0 i32)
                    (param v1 felt)
                    (param v2 felt)
                    (param v3 i32)
                (let (v5 u32) (cast v0))
                (let (v6 u32) (mod.unchecked v5 2))
                (assertz v6)
                (let (v7 (ptr felt)) (inttoptr v5))
                (let (v8 felt) (load v7))
                (let (v9 u32) (cast v0))
                (let (v10 u32) (add.checked v9 4))
                (let (v11 u32) (mod.unchecked v10 2))
                (assertz v11)
                (let (v12 (ptr felt)) (inttoptr v10))
                (let (v13 felt) (load v12))
                (let (v14 u32) (cast v0))
                (let (v15 u32) (add.checked v14 8))
                (let (v16 u32) (mod.unchecked v15 2))
                (assertz v16)
                (let (v17 (ptr felt)) (inttoptr v15))
                (let (v18 felt) (load v17))
                (let (v19 u32) (cast v0))
                (let (v20 u32) (add.checked v19 12))
                (let (v21 u32) (mod.unchecked v20 2))
                (assertz v21)
                (let (v22 (ptr felt)) (inttoptr v20))
                (let (v23 felt) (load v22))
                (let (v24 u32) (cast v3))
                (let (v25 u32) (mod.unchecked v24 2))
                (assertz v25)
                (let (v26 (ptr felt)) (inttoptr v24))
                (let (v27 felt) (load v26))
                (let (v28 u32) (cast v3))
                (let (v29 u32) (add.checked v28 4))
                (let (v30 u32) (mod.unchecked v29 2))
                (assertz v30)
                (let (v31 (ptr felt)) (inttoptr v29))
                (let (v32 felt) (load v31))
                (let (v33 u32) (cast v3))
                (let (v34 u32) (add.checked v33 8))
                (let (v35 u32) (mod.unchecked v34 2))
                (assertz v35)
                (let (v36 (ptr felt)) (inttoptr v34))
                (let (v37 felt) (load v36))
                (let (v38 u32) (cast v3))
                (let (v39 u32) (add.checked v38 12))
                (let (v40 u32) (mod.unchecked v39 2))
                (assertz v40)
                (let (v41 (ptr felt)) (inttoptr v39))
                (let (v42 felt) (load v41))
                (let (v43 felt) (call (#miden::tx #create_note) v8 v13 v18 v23 v1 v2 v27 v32 v37 v42))
                (br (block 1 v43)))

            (block 1 (param v4 felt)
                (ret v4))
        )

        ;; Imports
        (func (import #miden::account #add_asset)
              (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt))
        (func (import #miden::account #remove_asset)
              (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt))
        (func (import #miden::tx #create_note)
              (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (result felt))
    )

)
