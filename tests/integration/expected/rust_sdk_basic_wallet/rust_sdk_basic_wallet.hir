(component 
    ;; Component Imports
    (lower ((digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (abi canon)  (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt)))) (#miden::account #remove_asset)

    ;; Modules
    (module #rust_sdk_basic_wallet
        ;; Constants
        (const (id 0) 0x00100000)

        ;; Global Variables
        (global (export #__stack_pointer) (id 0) (type i32) (const 0))

        ;; Functions
        (func (export #receive_asset) (param i32)
            (block 0 (param v0 i32)
                (let (v1 i32) (const.i32 0))
                (let (v2 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v3 i32) (const.i32 32))
                (let (v4 i32) (sub.wrapping v2 v3))
                (let (v5 i32) (const.i32 -32))
                (let (v6 i32) (band v4 v5))
                (let (v7 (ptr i32)) (global.symbol #__stack_pointer))
                (store v7 v6)
                (call #miden_base_sys::bindings::tx::add_asset v6 v0)
                (let (v8 (ptr i32)) (global.symbol #__stack_pointer))
                (store v8 v2)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #send_asset)
              (param i32) (param felt) (param felt) (param i32)
            (block 0
                    (param v0 i32)
                    (param v1 felt)
                    (param v2 felt)
                    (param v3 i32)
                (let (v4 i32) (const.i32 0))
                (let (v5 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v6 i32) (const.i32 32))
                (let (v7 i32) (sub.wrapping v5 v6))
                (let (v8 i32) (const.i32 -32))
                (let (v9 i32) (band v7 v8))
                (let (v10 (ptr i32)) (global.symbol #__stack_pointer))
                (store v10 v9)
                (call #miden_base_sys::bindings::tx::remove_asset v9 v0)
                (let (v11 felt) (call #miden_base_sys::bindings::tx::create_note v9 v1 v2 v3))
                (let (v12 (ptr i32)) (global.symbol #__stack_pointer))
                (store v12 v5)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_base_sys::bindings::tx::add_asset)
              (param i32) (param i32)
            (block 0 (param v0 i32) (param v1 i32)
                (let (v2 u32) (bitcast v1))
                (let (v3 u32) (mod.unchecked v2 4))
                (assertz 250 v3)
                (let (v4 (ptr felt)) (inttoptr v2))
                (let (v5 felt) (load v4))
                (let (v6 u32) (bitcast v1))
                (let (v7 u32) (add.checked v6 4))
                (let (v8 u32) (mod.unchecked v7 4))
                (assertz 250 v8)
                (let (v9 (ptr felt)) (inttoptr v7))
                (let (v10 felt) (load v9))
                (let (v11 u32) (bitcast v1))
                (let (v12 u32) (add.checked v11 8))
                (let (v13 u32) (mod.unchecked v12 4))
                (assertz 250 v13)
                (let (v14 (ptr felt)) (inttoptr v12))
                (let (v15 felt) (load v14))
                (let (v16 u32) (bitcast v1))
                (let (v17 u32) (add.checked v16 12))
                (let (v18 u32) (mod.unchecked v17 4))
                (assertz 250 v18)
                (let (v19 (ptr felt)) (inttoptr v17))
                (let (v20 felt) (load v19))
                (let [(v21 felt) (v22 felt) (v23 felt) (v24 felt)] (call (#miden::account #add_asset) v5 v10 v15 v20))
                (let (v25 u32) (cast v0))
                (let (v26 (ptr felt)) (inttoptr v25))
                (store v26 v21)
                (let (v27 u32) (add.checked v25 8))
                (let (v28 (ptr felt)) (inttoptr v27))
                (store v28 v22)
                (let (v29 u32) (add.checked v25 16))
                (let (v30 (ptr felt)) (inttoptr v29))
                (store v30 v23)
                (let (v31 u32) (add.checked v25 24))
                (let (v32 (ptr felt)) (inttoptr v31))
                (store v32 v24)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_base_sys::bindings::tx::remove_asset)
              (param i32) (param i32)
            (block 0 (param v0 i32) (param v1 i32)
                (let (v2 u32) (bitcast v1))
                (let (v3 u32) (mod.unchecked v2 4))
                (assertz 250 v3)
                (let (v4 (ptr felt)) (inttoptr v2))
                (let (v5 felt) (load v4))
                (let (v6 u32) (bitcast v1))
                (let (v7 u32) (add.checked v6 4))
                (let (v8 u32) (mod.unchecked v7 4))
                (assertz 250 v8)
                (let (v9 (ptr felt)) (inttoptr v7))
                (let (v10 felt) (load v9))
                (let (v11 u32) (bitcast v1))
                (let (v12 u32) (add.checked v11 8))
                (let (v13 u32) (mod.unchecked v12 4))
                (assertz 250 v13)
                (let (v14 (ptr felt)) (inttoptr v12))
                (let (v15 felt) (load v14))
                (let (v16 u32) (bitcast v1))
                (let (v17 u32) (add.checked v16 12))
                (let (v18 u32) (mod.unchecked v17 4))
                (assertz 250 v18)
                (let (v19 (ptr felt)) (inttoptr v17))
                (let (v20 felt) (load v19))
                (let [(v21 felt) (v22 felt) (v23 felt) (v24 felt)] (call (#miden::account #remove_asset) v5 v10 v15 v20))
                (let (v25 u32) (cast v0))
                (let (v26 (ptr felt)) (inttoptr v25))
                (store v26 v21)
                (let (v27 u32) (add.checked v25 8))
                (let (v28 (ptr felt)) (inttoptr v27))
                (store v28 v22)
                (let (v29 u32) (add.checked v25 16))
                (let (v30 (ptr felt)) (inttoptr v29))
                (store v30 v23)
                (let (v31 u32) (add.checked v25 24))
                (let (v32 (ptr felt)) (inttoptr v31))
                (store v32 v24)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_base_sys::bindings::tx::create_note)
              (param i32) (param felt) (param felt) (param i32) (result felt)
            (block 0
                    (param v0 i32)
                    (param v1 felt)
                    (param v2 felt)
                    (param v3 i32)
                (let (v5 u32) (bitcast v0))
                (let (v6 u32) (mod.unchecked v5 4))
                (assertz 250 v6)
                (let (v7 (ptr felt)) (inttoptr v5))
                (let (v8 felt) (load v7))
                (let (v9 u32) (bitcast v0))
                (let (v10 u32) (add.checked v9 4))
                (let (v11 u32) (mod.unchecked v10 4))
                (assertz 250 v11)
                (let (v12 (ptr felt)) (inttoptr v10))
                (let (v13 felt) (load v12))
                (let (v14 u32) (bitcast v0))
                (let (v15 u32) (add.checked v14 8))
                (let (v16 u32) (mod.unchecked v15 4))
                (assertz 250 v16)
                (let (v17 (ptr felt)) (inttoptr v15))
                (let (v18 felt) (load v17))
                (let (v19 u32) (bitcast v0))
                (let (v20 u32) (add.checked v19 12))
                (let (v21 u32) (mod.unchecked v20 4))
                (assertz 250 v21)
                (let (v22 (ptr felt)) (inttoptr v20))
                (let (v23 felt) (load v22))
                (let (v24 u32) (bitcast v3))
                (let (v25 u32) (mod.unchecked v24 4))
                (assertz 250 v25)
                (let (v26 (ptr felt)) (inttoptr v24))
                (let (v27 felt) (load v26))
                (let (v28 u32) (bitcast v3))
                (let (v29 u32) (add.checked v28 4))
                (let (v30 u32) (mod.unchecked v29 4))
                (assertz 250 v30)
                (let (v31 (ptr felt)) (inttoptr v29))
                (let (v32 felt) (load v31))
                (let (v33 u32) (bitcast v3))
                (let (v34 u32) (add.checked v33 8))
                (let (v35 u32) (mod.unchecked v34 4))
                (assertz 250 v35)
                (let (v36 (ptr felt)) (inttoptr v34))
                (let (v37 felt) (load v36))
                (let (v38 u32) (bitcast v3))
                (let (v39 u32) (add.checked v38 12))
                (let (v40 u32) (mod.unchecked v39 4))
                (assertz 250 v40)
                (let (v41 (ptr felt)) (inttoptr v39))
                (let (v42 felt) (load v41))
                (let (v43 felt) (call (#miden::tx #create_note) v8 v13 v18 v23 v1 v2 v27 v32 v37 v42))
                (br (block 1 v43)))

            (block 1 (param v4 felt)
                (ret v4))
        )

        ;; Imports
        (func (import #miden::account #add_asset)
              (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt))
        (func (import #miden::account #remove_asset)
              (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt))
        (func (import #miden::tx #create_note)
              (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (param felt) (result felt))
    )

)
