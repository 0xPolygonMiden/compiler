(component 
    ;; Component Imports
    (lower (import (abi miden)  (digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt)))) (#miden:tx_kernel/account #add_asset)
    (lower (import (abi miden)  (digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (param i32) (param i32) (param i32) (param i32) (result i32 i32 i32 i32)))) (#miden:tx_kernel/account #add_asset)
    (lower (import (abi miden)  (digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (result i32)))) (#miden:tx_kernel/account #get_id)
    (lower (import (abi miden)  (digest 0x0000000000000000000000000000000000000000000000000000000000000000) (type (func (param i32) (result i32 i32)))) (#miden:tx_kernel/note #get_inputs)

    ;; Modules
    (module #miden_sdk_account_test.wasm
        ;; Constants
        (const (id 0) 0x00100000)

        ;; Global Variables
        (global (export #__stack_pointer) (id 0) (type i32) (const 0))

        ;; Functions
        (func (export #<<alloc::vec::into_iter::IntoIter<T,A> as core::ops::drop::Drop>::drop::DropGuard<T,A> as core::ops::drop::Drop>::drop)
              (param i32)
            (block 0 (param v0 i32)
                (let (v1 i32) (const.i32 0))
                (let (v2 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v3 i32) (const.i32 16))
                (let (v4 i32) (sub.wrapping v2 v3))
                (let (v5 (ptr i32)) (global.symbol #__stack_pointer))
                (store v5 v4)
                (let (v6 u32) (cast v0))
                (let (v7 (ptr i32)) (inttoptr v6))
                (let (v8 i32) (load v7))
                (let (v9 u32) (cast v8))
                (let (v10 (ptr i32)) (inttoptr v9))
                (let (v11 i32) (load v10))
                (let (v12 u32) (cast v4))
                (let (v13 u32) (add.checked v12 12))
                (let (v14 (ptr i32)) (inttoptr v13))
                (store v14 v11)
                (let (v15 u32) (cast v8))
                (let (v16 u32) (add.checked v15 8))
                (let (v17 (ptr i32)) (inttoptr v16))
                (let (v18 i32) (load v17))
                (let (v19 u32) (cast v4))
                (let (v20 u32) (add.checked v19 8))
                (let (v21 (ptr i32)) (inttoptr v20))
                (store v21 v18)
                (let (v22 i32) (const.i32 8))
                (let (v23 i32) (add.wrapping v4 v22))
                (call #<alloc::raw_vec::RawVec<T,A> as core::ops::drop::Drop>::drop v23)
                (let (v24 i32) (const.i32 16))
                (let (v25 i32) (add.wrapping v4 v24))
                (let (v26 (ptr i32)) (global.symbol #__stack_pointer))
                (store v26 v25)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #<alloc::raw_vec::RawVec<T,A> as core::ops::drop::Drop>::drop)
              (param i32)
            (block 0 (param v0 i32)
                (let (v1 i32) (const.i32 0))
                (let (v2 u32) (cast v0))
                (let (v3 (ptr i32)) (inttoptr v2))
                (let (v4 i32) (load v3))
                (let (v5 i1) (eq v4 0))
                (let (v6 i32) (cast v5))
                (let (v7 i1) (neq v6 0))
                (condbr v7 (block 2) (block 3)))

            (block 1
                (ret))

            (block 2
                (br (block 1)))

            (block 3
                (let (v8 u32) (cast v0))
                (let (v9 u32) (add.checked v8 4))
                (let (v10 (ptr i32)) (inttoptr v9))
                (let (v11 i32) (load v10))
                (let (v12 i32) (const.i32 3))
                (let (v13 i32) (shl.wrapping v4 v12))
                (let (v14 i32) (const.i32 8))
                (call #__rust_dealloc v11 v13 v14)
                (br (block 2)))
        )

        (func (export #<alloc::vec::into_iter::IntoIter<T,A> as core::ops::drop::Drop>::drop)
              (param i32)
            (block 0 (param v0 i32)
                (let (v1 i32) (const.i32 0))
                (let (v2 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v3 i32) (const.i32 16))
                (let (v4 i32) (sub.wrapping v2 v3))
                (let (v5 (ptr i32)) (global.symbol #__stack_pointer))
                (store v5 v4)
                (let (v6 u32) (cast v4))
                (let (v7 u32) (add.checked v6 12))
                (let (v8 (ptr i32)) (inttoptr v7))
                (store v8 v0)
                (let (v9 i32) (const.i32 12))
                (let (v10 i32) (add.wrapping v4 v9))
                (call #<<alloc::vec::into_iter::IntoIter<T,A> as core::ops::drop::Drop>::drop::DropGuard<T,A> as core::ops::drop::Drop>::drop v10)
                (let (v11 i32) (const.i32 16))
                (let (v12 i32) (add.wrapping v4 v11))
                (let (v13 (ptr i32)) (global.symbol #__stack_pointer))
                (store v13 v12)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #get_wallet_magic_number) (result i64)
            (block 0
                (let (v1 i64) (call (#miden:tx_kernel/account #get_id)))
                (let (v2 i64) (const.i64 42))
                (let (v3 i64) (add.wrapping v1 v2))
                (br (block 1 v3)))

            (block 1 (param v0 i64)
                (ret v0))
        )

        (func (export #test_add_asset) (result felt)
            (block 0
                (let (v1 i32) (const.i32 0))
                (let (v2 felt) (const.felt 0))
                (let (v3 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v4 i32) (const.i32 64))
                (let (v5 i32) (sub.wrapping v3 v4))
                (let (v6 (ptr i32)) (global.symbol #__stack_pointer))
                (store v6 v5)
                (let (v7 i64) (const.i64 1))
                (let (v8 i64) (const.i64 2))
                (let (v9 i64) (const.i64 3))
                (let (v10 i64) (const.i64 4))
                (call #miden_sdk_types::Word::from_u64_unchecked v5 v7 v8 v9 v10)
                (let (v11 i32) (const.i32 32))
                (let (v12 i32) (add.wrapping v5 v11))
                (call #miden_sdk_tx_kernel::add_assets v12 v5)
                (let (v13 u32) (cast v5))
                (let (v14 u32) (add.checked v13 32))
                (let (v15 (ptr felt)) (inttoptr v14))
                (let (v16 felt) (load v15))
                (let (v17 i32) (const.i32 64))
                (let (v18 i32) (add.wrapping v5 v17))
                (let (v19 (ptr i32)) (global.symbol #__stack_pointer))
                (store v19 v18)
                (br (block 1 v16)))

            (block 1 (param v0 felt)
                (ret v0))
        )

        (func (export #miden_sdk_tx_kernel::add_assets)
              (param i32) (param i32)
            (block 0 (param v0 i32) (param v1 i32)
                (let (v2 i32) (const.i32 0))
                (let (v3 i32) (global.load i32 (global.symbol #__stack_pointer)))
                (let (v4 i32) (const.i32 64))
                (let (v5 i32) (sub.wrapping v3 v4))
                (let (v6 (ptr i32)) (global.symbol #__stack_pointer))
                (store v6 v5)
                (let (v7 u32) (cast v1))
                (let (v8 (ptr felt)) (inttoptr v7))
                (let (v9 felt) (load v8))
                (let (v10 u32) (cast v1))
                (let (v11 u32) (add.checked v10 8))
                (let (v12 (ptr felt)) (inttoptr v11))
                (let (v13 felt) (load v12))
                (let (v14 u32) (cast v1))
                (let (v15 u32) (add.checked v14 16))
                (let (v16 (ptr felt)) (inttoptr v15))
                (let (v17 felt) (load v16))
                (let (v18 u32) (cast v1))
                (let (v19 u32) (add.checked v18 24))
                (let (v20 (ptr felt)) (inttoptr v19))
                (let (v21 felt) (load v20))
                (let [(v22 felt) (v23 felt) (v24 felt) (v25 felt)] (call (#miden:tx_kernel/account #add_asset) v9 v13 v17 v21))
                (let (v26 u32) (cast v5))
                (let (v27 (ptr felt)) (inttoptr v26))
                (store v27 v22)
                (let (v28 u32) (add.checked v26 1))
                (let (v29 (ptr felt)) (inttoptr v28))
                (store v29 v23)
                (let (v30 u32) (add.checked v26 2))
                (let (v31 (ptr felt)) (inttoptr v30))
                (store v31 v24)
                (let (v32 u32) (add.checked v26 3))
                (let (v33 (ptr felt)) (inttoptr v32))
                (store v33 v25)
                (let (v34 i32) (const.i32 32))
                (let (v35 i32) (add.wrapping v5 v34))
                (let (v36 u32) (cast v5))
                (let (v37 (ptr i64)) (inttoptr v36))
                (let (v38 i64) (load v37))
                (let (v39 i32) (const.i32 8))
                (let (v40 i32) (add.wrapping v5 v39))
                (let (v41 u32) (cast v40))
                (let (v42 (ptr i64)) (inttoptr v41))
                (let (v43 i64) (load v42))
                (let (v44 i32) (const.i32 16))
                (let (v45 i32) (add.wrapping v5 v44))
                (let (v46 u32) (cast v45))
                (let (v47 (ptr i64)) (inttoptr v46))
                (let (v48 i64) (load v47))
                (let (v49 i32) (const.i32 24))
                (let (v50 i32) (add.wrapping v5 v49))
                (let (v51 u32) (cast v50))
                (let (v52 (ptr i64)) (inttoptr v51))
                (let (v53 i64) (load v52))
                (call #miden_sdk_types::Word::from_u64_unchecked v35 v38 v43 v48 v53)
                (let (v54 i32) (const.i32 24))
                (let (v55 i32) (add.wrapping v0 v54))
                (let (v56 i32) (const.i32 32))
                (let (v57 i32) (add.wrapping v5 v56))
                (let (v58 i32) (const.i32 24))
                (let (v59 i32) (add.wrapping v57 v58))
                (let (v60 u32) (cast v59))
                (let (v61 (ptr i64)) (inttoptr v60))
                (let (v62 i64) (load v61))
                (let (v63 u32) (cast v55))
                (let (v64 (ptr i64)) (inttoptr v63))
                (store v64 v62)
                (let (v65 i32) (const.i32 16))
                (let (v66 i32) (add.wrapping v0 v65))
                (let (v67 i32) (const.i32 32))
                (let (v68 i32) (add.wrapping v5 v67))
                (let (v69 i32) (const.i32 16))
                (let (v70 i32) (add.wrapping v68 v69))
                (let (v71 u32) (cast v70))
                (let (v72 (ptr i64)) (inttoptr v71))
                (let (v73 i64) (load v72))
                (let (v74 u32) (cast v66))
                (let (v75 (ptr i64)) (inttoptr v74))
                (store v75 v73)
                (let (v76 i32) (const.i32 8))
                (let (v77 i32) (add.wrapping v0 v76))
                (let (v78 i32) (const.i32 32))
                (let (v79 i32) (add.wrapping v5 v78))
                (let (v80 i32) (const.i32 8))
                (let (v81 i32) (add.wrapping v79 v80))
                (let (v82 u32) (cast v81))
                (let (v83 (ptr i64)) (inttoptr v82))
                (let (v84 i64) (load v83))
                (let (v85 u32) (cast v77))
                (let (v86 (ptr i64)) (inttoptr v85))
                (store v86 v84)
                (let (v87 u32) (cast v5))
                (let (v88 u32) (add.checked v87 32))
                (let (v89 (ptr i64)) (inttoptr v88))
                (let (v90 i64) (load v89))
                (let (v91 u32) (cast v0))
                (let (v92 (ptr i64)) (inttoptr v91))
                (store v92 v90)
                (let (v93 i32) (const.i32 64))
                (let (v94 i32) (add.wrapping v5 v93))
                (let (v95 (ptr i32)) (global.symbol #__stack_pointer))
                (store v95 v94)
                (br (block 1)))

            (block 1
                (ret))
        )

        (func (export #miden_sdk_types::Word::from_u64_unchecked)
              (param i32) (param i64) (param i64) (param i64) (param i64)
            (block 0
                    (param v0 i32)
                    (param v1 i64)
                    (param v2 i64)
                    (param v3 i64)
                    (param v4 i64)
                (let (v5 felt) (const.felt 0))
                (let (v6 felt) (cast v1))
                (let (v7 felt) (cast v2))
                (let (v8 felt) (cast v3))
                (let (v9 felt) (cast v4))
                (let (v10 u32) (cast v0))
                (let (v11 u32) (add.checked v10 24))
                (let (v12 (ptr felt)) (inttoptr v11))
                (store v12 v9)
                (let (v13 u32) (cast v0))
                (let (v14 u32) (add.checked v13 16))
                (let (v15 (ptr felt)) (inttoptr v14))
                (store v15 v8)
                (let (v16 u32) (cast v0))
                (let (v17 u32) (add.checked v16 8))
                (let (v18 (ptr felt)) (inttoptr v17))
                (store v18 v7)
                (let (v19 u32) (cast v0))
                (let (v20 (ptr felt)) (inttoptr v19))
                (store v20 v6)
                (br (block 1)))

            (block 1
                (ret))
        )

        ;; Imports
        (func (import #miden:tx_kernel/account #add_asset)
              (param felt) (param felt) (param felt) (param felt) (result felt felt felt felt))
        (func (import #miden:tx_kernel/account #get_id) (result felt))
    )

)
