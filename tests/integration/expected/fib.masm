# mod user_ns::miden_integration_tests_rust_fib_wasm

export.fib
    push.0
    push.1
    movup.2
    swap.1
    dup.1
    neq.0
    push.1
    while.true
        if.true
            push.4294967295
            movup.2
            swap.1
            u32wrapping_add
            dup.1
            swap.1
            swap.3
            swap.1
            u32wrapping_add
            movup.2
            swap.1
            dup.1
            neq.0
            push.1
        else
            drop drop push.0
        end
    end
end


use.user_ns::miden_integration_tests_rust_fib_wasm

begin
    exec.miden_integration_tests_rust_fib_wasm::fib  
end